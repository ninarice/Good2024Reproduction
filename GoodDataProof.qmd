---
title: "GoodDataProof"
author: "Nina Rice & Erika Garza-Elorduy"
format: pdf
editor: visual
---

# Power Over Presence: Womenâ€™s Representation in Comprehensive Peace Negotiations and Gender Provision Outcomes

```{r}

# Load data
repdata <- read.csv("PADD_Agreement Level.csv")

```

### I. Histogram for Dependent Variable:

#### `GeWom` = a binary variable, taking the value of 1 if any of the peace agreement provisions are specifically addressing women, their inclusion, and their rights.

```{r}

# Load libraries
library(ggplot2)

# Calculate frequencies as a percentage of the total
table_freq <- prop.table(table(repdata$GeWom)) * 100

freq_data <- as.data.frame(table_freq)
names(freq_data) <- c("GeWom", "Frequency")

# Plot
ggplot(freq_data, aes(x = GeWom, y = Frequency, fill = GeWom)) +
  geom_bar(stat = "identity", width = 0.7) +  
  labs(x = "Provisions for Women", y = "Percentage of Agreements", title = "Histogram of Provisions for Women") +
  scale_x_discrete(limits = c("0", "1"), labels = c("0" = "No Provisions", "1" = "Provisions")) +
  theme_minimal() +
  theme(axis.title = element_text(size = 12, face = "bold"),
        axis.text = element_text(size = 10),
        plot.title = element_text(size = 14, face = "bold", hjust = 0.5))
```

### II. Correlation Matrix for Table 4. Percentage Measurement of Women Delegates (OLS Regression)

```{r}

# Load libraries
library(corrplot)
library(tidyverse)

DV <- "GeWom"
IVs <- c("FemSig_P", "FemNeg_P", "FemMed_P", "FemOb_P")

# Ensure numeric values
repdata <- repdata %>%
  mutate(across(all_of(c(DV, IVs)), as.numeric))

# Compute correlation matrix
cor_matrix <- cor(repdata %>% select(all_of(c(DV, IVs))), use = "pairwise.complete.obs")

# Plot correlation matrix with improved labels & visibility
corrplot(cor_matrix, method = "color", type = "lower", diag = FALSE,  # Removes diagonal
         col = colorRampPalette(c("#FF6F61", "white", "#00A8A8"))(200),  # Coral to Turquoise
         tl.col = "black", tl.cex = 1, cl.cex = 0.8, addCoef.col = "black")
```

### III. Missingness Map for Entire Dataset (PADD_Agreement Level.csv)

```{r}
library(naniar)
vis_miss(repdata) + 
  theme(axis.text.x = element_text(angle = 90, hjust = 1, size = 3))
```
